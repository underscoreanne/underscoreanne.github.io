<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Anne's Blog - 2022/07/07</title>
		<link rel=stylesheet href=../style.css>
	</head>
	<body>
		<h1>Making a GameBoy toolchain</h1>
		<a href=../index.html>go to index</a>
		<p>
			The gameboy is a nice piece of hardware, because
			people have a lot of fond memories of it, people have a
			made a lot of software for it, and its design presents
			interesting constraints. The thing, in default
			configuration, has only 8k of memory, which is in its
			own right pretty interesting. You can get more by
			putting ram in a game-cartridge, but its still banked,
			so you can never have a data structure bigger than 8k!
		</p>
		<p>
			I think it would be a very neat challenge to write an
			operating system for the gameboy -- a microkernel and
			a cute little userspace. I have set myself the extra
			challenge of doing everything myself, for the joy of
			bringing up the platform by myself.
		</p>
		<p>
			The first thing to write for the platform would be an
			emulator (and yes, that no-outside-code challenge
			includes an emulator!). I've already started work on
			this one. You wouldn't think ~500 instructions would be
			so many! Once that's done, there will be the
			[dis]-assembler. That will allow me to write the kernel,
			which will be written in assembly language for two
			reasons. (1) I'll work on my C compiler concurrently,
			(yes, C!) &amp; (2) I want the kernel to be
			language-agnostic for userspace programs written in
			either assembly language or C. For the C compiler,
			I'm targeting modest optimization and C99. Also, I have
			no plans of keeping a normal C library, I'll put
			everything into a big &lt;libc.h&gt;, a little like Plan
			9 (oh god, Plan 9!), and put the function bodies in
			there too -- because my assembler will not be able
			to chop off unused symbols, so the C compiler will
			have to do that
		</p>
		<p>
			So, in a matter of months, I hope to be running
			<code>ls -l</code> and <code>bc</code> on my GameBoy.
			More posts to come.
		</p>
		<p class=signoff>Anne Avery. Public domain. Code is MIT.</p>
	</body>
</html>
